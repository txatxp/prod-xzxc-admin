{"version":3,"sources":["webpack:///src/components/theme/index.vue","webpack:///./src/components/theme/index.vue?01a9","webpack:///./src/components/theme/index.vue"],"names":["theme","components","GetUserData","data","selectUserShow","form","textarea","file","uploadFileUrl","uploadHeaders","files","user_id","filelist","userid","admin","uploadData","urlJurisdiction","window","location","hash","replace","formPlaceholder","isIndeterminate","checkAll","checkedCities","rules","required","message","userInfo","user","routeQuery","beforeRouteUpdate","to","from","next","reload","created","this","api","uploadUrl","x-csrf-token","getCatch","$store","state","console","log","adminlevel","level","$route","query","themeEditDataCache","theme_name","theme_info","theme_min_img","push","name","methods","getSetUser","id","handleCheckedCitiesChange","value","saveThemeData","imgsrc","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","_this","wrap","_context","prev","theme_id","$axios","type","obj","url","addtheme","method","success","res","code","$router","alertsu","msg","alerter","error","header","content-type","stop","saveThemeImg","_this3","_callee2","formData_","_context2","FormData","append","split","$post","headers","config","src","errror","submitTheme","$refs","ruleForm","validate","valid","imgImgUpload","raw","upload","abort","clearFiles","size","selectUser","components_theme","render","_vm","_h","$createElement","_c","_self","_v","ref","attrs","label-position","panelLayout","model","label-width","gutter","lg","label","prop","getUserIdFn","_e","placeholder","callback","$$v","$set","expression","rows","staticStyle","width","staticClass","drag","auto-upload","action","file-list","multiple","on-change","with-credentials","slot","display","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"public/js/11.36b1ec2106221c631998.js","sourcesContent":["<template>\r\n    <div>\r\n    \t<br>\r\n    \t<el-form :label-position=\"this.$store.state.panelLayout\" ref=\"ruleForm\" :rules=\"rules\" :model=\"form\" label-width=\"150px\">\r\n\r\n    \t\t <el-row :gutter=\"24\" v-if=\"admin\">\r\n\t            <el-col :lg=\"8\">\r\n\t              <el-form-item label=\"选择用户：\" prop=\"userid\">\r\n\r\n\t              \t<get-user-data :getUserIdFn=\"getSetUser\"></get-user-data>    \r\n\r\n\t              </el-form-item>\r\n\t            </el-col>\r\n\t          </el-row>\r\n\r\n    \t\t  <el-row :gutter=\"24\">\r\n\t            <el-col :lg=\"8\">\r\n\t              <el-form-item label=\"输入主题名称：\" prop=\"theme\">\r\n\t                <el-input :placeholder=\"formPlaceholder.theme\" v-model=\"form.theme\"></el-input>\r\n\t              </el-form-item>\r\n\t            </el-col>\r\n\t          </el-row>\r\n\r\n\r\n\t          <el-row :gutter=\"24\">\r\n\t            <el-col :lg=\"8\">\r\n\t              <el-form-item label=\"主题描述：\" prop=\"textarea\">\r\n\r\n\t                <el-input\r\n\t\t\t\t\t  type=\"textarea\"\r\n\t\t\t\t\t  :rows=\"3\"\r\n\t\t\t\t\t  placeholder=\"请输入内容\"\r\n\t\t\t\t\t  v-model=\"form.textarea\">\r\n\t\t\t\t\t</el-input>\r\n\r\n\t              </el-form-item>\r\n\t            </el-col>\r\n\t          </el-row>\r\n\r\n\r\n\t          <el-row :gutter=\"24\">\r\n\t            <el-col :lg=\"16\">\r\n\t              <el-form-item label=\"缩略图上传：\" style=\"width:100%;\" prop=\"file\">\r\n\t                <el-upload\r\n\t\t\t\t\t  class=\"upload-demo\"\r\n\t\t\t\t\t  ref=\"upload\"\r\n\t\t\t\t\t  drag\r\n\t\t\t\t\t  :data=\"uploadData\"\r\n\t\t\t\t\t  :auto-upload=\"false\"\r\n\t\t\t\t\t  :action=\"form.uploadFileUrl\"\r\n\t\t\t\t\t  :headers=\"form.uploadHeaders\"\r\n\t\t\t\t\t  :file-list=\"form.filelist\"\r\n\t\t\t\t\t  multiple :on-change=\"imgImgUpload\" :with-credentials=\"true\">\r\n\t\t\t\t\t  <i class=\"el-icon-upload\"></i>\r\n\t\t\t\t\t  <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n\t\t\t\t\t  <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png/gif文件，且不超过100kb</div>\r\n\t\t\t\t\t</el-upload>\r\n\t\t\t\t\t<el-input type=\"hidden\" v-model=\"form.file\" style=\"display:none;\"></el-input>\r\n\t              </el-form-item>\r\n\t            </el-col>\r\n\t          </el-row>\r\n\r\n\t          <el-row :gutter=\"24\">\r\n\t            <el-col :lg=\"8\">\r\n\t              <el-form-item label=\"\">\r\n\t              \t<br>\r\n\t                <el-button type=\"primary\" @click=\"submitTheme\">提交保存</el-button>\r\n\t              </el-form-item>\r\n\t            </el-col>\r\n\t          </el-row>\r\n\r\n\t         \r\n    \t</el-form>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n  import GetUserData from '../getUserData'\r\n  export default {\r\n  \tcomponents: {\r\n    \tGetUserData\r\n  \t},\r\n    data () {\r\n    \treturn {\r\n    \t\tselectUserShow: false,\r\n    \t\tform: {\r\n    \t\t\ttheme: '',\r\n    \t\t\ttextarea: '',\r\n    \t\t\tfile: '',\r\n    \t\t\tuploadFileUrl: '',\r\n    \t\t\tuploadHeaders: '',\r\n    \t\t\tfiles: null,\r\n    \t\t\tuser_id: 0,\r\n    \t\t\tfilelist: []\r\n    \t\t},\r\n    \t\tuserid: 0,\r\n    \t\tadmin: false,\r\n    \t\tuploadData:{\r\n    \t\t\turlJurisdiction: window.location.hash.replace('#','')\r\n    \t\t},\r\n    \t\tformPlaceholder: {\r\n    \t\t\ttheme:'输入要创建的主题名字'\r\n    \t\t},\r\n    \t\tisIndeterminate: true,\r\n    \t\tcheckAll: false,\r\n    \t\tcheckedCities: [],\r\n    \t\t// cities: cityOptions,\r\n    \t\trules: {\r\n\t\t\t\ttheme: [\r\n\t\t\t\t\t{required: true,message: '请输入主题名称'}\r\n\t\t\t\t],\r\n\t\t\t\ttextarea: [\r\n\t\t\t\t\t{required: true,message: '请输入主题描述'}\r\n\t\t\t\t],\r\n\t\t\t\tfile: [\r\n\t\t\t\t\t{required: true,message: '请选择图片'}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tuserInfo: null,\r\n\t\t\tuser: null,\r\n\t\t\trouteQuery: null\r\n    \t}\r\n    },\r\n    beforeRouteUpdate (to, from, next) {\r\n    \tnext()\r\n    \tlocation.reload()\r\n    },\r\n    created () {\r\n    \tvar _this = this\r\n    \tthis.form.uploadFileUrl = this.api.uploadUrl\r\n    \tthis.form.uploadHeaders = {\r\n\t\t\t'x-csrf-token': this.getCatch(this, 'csrfToken')\r\n\t\t}\r\n\t\tthis.userInfo = this.$store.state.userInfo\r\n\t\tconsole.log(this.userInfo, 'this.userInfo')\r\n\t\tthis.form.adminlevel = this.userInfo ? this.userInfo.level : 0\r\n\t\tif (this.userInfo) {\r\n\t\t\tif (this.userInfo.level === 1) {\r\n\t\t\t\tthis.admin = true\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.routeQuery = this.$route.query\r\n\t\tif (_this.$store.state.themeEditDataCache) {\r\n\t\t\t_this.form.theme = this.$store.state.themeEditDataCache.theme_name\r\n\t\t    _this.form.textarea = this.$store.state.themeEditDataCache.theme_info\r\n\t\t    _this.form.file = this.$store.state.themeEditDataCache.theme_min_img\r\n\t\t    _this.form.filelist.push({name: this.$store.state.themeEditDataCache.theme_min_img})\r\n\t\t}\r\n    },\r\n    methods: {\r\n    \tgetSetUser (user) {\r\n\t      this.user = [user]\r\n\t      this.userid = user.id\r\n\t    },\r\n    \thandleCheckedCitiesChange(value) {\r\n\t    },\r\n\t    async saveThemeData (imgsrc) {\r\n\t    \tvar _this = this\r\n\t    \t_this.form.imgsrc = imgsrc\r\n\t    \t_this.form.userid = this.userid\r\n\t    \t_this.form.level = this.user ? this.user[0].level : 0\r\n\t    \tif (_this.routeQuery && _this.routeQuery.theme_id) {\r\n\t    \t\t_this.form.userid = _this.routeQuery.userid\r\n\t    \t\t_this.form.theme_id = _this.routeQuery.theme_id\r\n\t    \t}\r\n\t    \t_this.$axios({\r\n\t\t\t\t type: '$axios',\r\n\t\t\t\t obj: {\r\n\t\t\t\t  url: _this.api.addtheme,\r\n\t\t\t\t  method: 'post',\r\n\t\t\t\t  success (res) {\r\n\t\t\t\t    if (res.data.code == 200) {\r\n\t\t\t\t      _this.$router.push({\r\n\t\t\t\t      \tname: 'themeList'\r\n\t\t\t\t      })\r\n\t\t\t\t      _this.alertsu(res.data.msg)\r\n\t\t\t\t    } else {\r\n\t\t\t\t      _this.alerter(res.data.msg)\r\n\t\t\t\t    }\r\n\t\t\t\t  },\r\n\t\t\t\t  error () {\r\n\t\t\t\t    _this.alertsu('主题保存失败！')\r\n\t\t\t\t  },\r\n\t\t\t\t  data: _this.form,\r\n\t\t\t\t  header: {\r\n\t\t\t\t    'x-csrf-token': _this.getCatch(_this, 'csrfToken'),\r\n\t\t\t\t    'content-type': 'application/json; charset=utf-8'\r\n\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t    },\r\n\t    async saveThemeImg () {\r\n\t    \tvar _this = this\r\n\t    \t// this.$refs.upload.submit();\r\n\t    \tconst formData_ = new FormData();\r\n\t    \tformData_.append('file',_this.form.files)\r\n\t    \tformData_.append('urlJurisdiction',window.location.hash.replace('#',''))\r\n\t    \tvar uploadResult;\r\n\t    \tvar level = this.user ? this.user[0].level : 0\r\n\t    \tvar url\r\n\t    \tif (_this.routeQuery && _this.routeQuery.theme_id) {\r\n\t    \t\t_this.userid = _this.routeQuery.userid\r\n\t    \t\turl = _this.api.uploadUrl + '?urlJurisdiction=' + window.location.hash.replace('#','').split('?')[0] + '&userid=' + this.userid + '&level=' + level + '&adminlevel=' + this.form.adminlevel + '&theme_id=' + _this.routeQuery.theme_id\r\n\t    \t} else {\r\n\t    \t\turl = _this.api.uploadUrl + '?urlJurisdiction=' + window.location.hash.replace('#','').split('?')[0] + '&userid=' + this.userid + '&level=' + level + '&adminlevel=' + this.form.adminlevel\r\n\t    \t}\r\n\t    \t_this.$post({\r\n\t    \t\turl: url,\r\n\t    \t\tdata: {\r\n\t    \t\t\tformData_,\r\n\t    \t\t\theaders: {\r\n\t\t\t\t      'x-csrf-token': _this.getCatch(_this, 'csrfToken'),\r\n\t\t\t\t      'content-type': 'application/json; charset=utf-8'\r\n\t\t\t\t    }\r\n\t    \t\t},\r\n\t    \t\tconfig: {\r\n\t    \t\t\t\r\n\t    \t\t},\r\n\t    \t\tsuccess (res){\r\n\t    \t\t\tuploadResult = res\r\n\t    \t\t\tif (res.data.code == 200) {\r\n\t    \t\t\t\t_this.saveThemeData(res.data.src);\r\n\t    \t\t\t\t_this.alertsu(res.data.msg)\r\n\t    \t\t\t} else {\r\n\t    \t\t\t\t_this.alerter(res.data.msg)\r\n\t    \t\t\t}\r\n\t    \t\t},\r\n\t    \t\terrror () {\r\n\r\n\t    \t\t}\r\n\t    \t})\r\n\t\t\t\r\n\t    },\r\n\t    submitTheme () {\r\n\t    \tvar _this = this\r\n\t\t\t_this.$refs.ruleForm.validate((valid) => {\r\n\t\t\t\tif (valid) {\r\n\t\t\t\t  _this.saveThemeImg()\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn false\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t    },\r\n\t    imgImgUpload (files,obj) {\r\n\t    \tvar _this = this\r\n\t    \t_this.form.file = files.name\r\n\t    \t_this.form.files = files.raw\r\n\t    \tif (files.raw.type !== 'image/png' && files.raw.type !== 'image/jpeg' && files.raw.type !== 'image/gif'){\r\n\t    \t\t_this.form.file = ''\r\n\t    \t\t_this.$refs.upload.abort()\r\n\t    \t\t_this.$refs.upload.clearFiles()\r\n\t    \t\t_this.alerter('请选择png/jpg/gif格式图片上传！')\r\n\t    \t\treturn false\r\n\t    \t}\r\n\t    \tif (files.name) {\r\n\t    \t\tif (files.size / 1024 / 1024 > 0.1) {\r\n\t    \t\t\t_this.form.file = ''\r\n\t    \t\t\t_this.$refs.upload.abort()\r\n\t    \t\t\t_this.$refs.upload.clearFiles()\r\n\t    \t\t\t_this.alerter('上传文件不能大于100K！')\r\n\t    \t\t}\r\n\t    \t}\r\n\t    },\r\n\t    selectUser () {\r\n\t    \tthis.selectUserShow = true\r\n\t    }\r\n    }\r\n  }\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/theme/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('br'),_vm._v(\" \"),_c('el-form',{ref:\"ruleForm\",attrs:{\"label-position\":this.$store.state.panelLayout,\"rules\":_vm.rules,\"model\":_vm.form,\"label-width\":\"150px\"}},[(_vm.admin)?_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"lg\":8}},[_c('el-form-item',{attrs:{\"label\":\"选择用户：\",\"prop\":\"userid\"}},[_c('get-user-data',{attrs:{\"getUserIdFn\":_vm.getSetUser}})],1)],1)],1):_vm._e(),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"lg\":8}},[_c('el-form-item',{attrs:{\"label\":\"输入主题名称：\",\"prop\":\"theme\"}},[_c('el-input',{attrs:{\"placeholder\":_vm.formPlaceholder.theme},model:{value:(_vm.form.theme),callback:function ($$v) {_vm.$set(_vm.form, \"theme\", $$v)},expression:\"form.theme\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"lg\":8}},[_c('el-form-item',{attrs:{\"label\":\"主题描述：\",\"prop\":\"textarea\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":3,\"placeholder\":\"请输入内容\"},model:{value:(_vm.form.textarea),callback:function ($$v) {_vm.$set(_vm.form, \"textarea\", $$v)},expression:\"form.textarea\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"lg\":16}},[_c('el-form-item',{staticStyle:{\"width\":\"100%\"},attrs:{\"label\":\"缩略图上传：\",\"prop\":\"file\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"data\":_vm.uploadData,\"auto-upload\":false,\"action\":_vm.form.uploadFileUrl,\"headers\":_vm.form.uploadHeaders,\"file-list\":_vm.form.filelist,\"multiple\":\"\",\"on-change\":_vm.imgImgUpload,\"with-credentials\":true}},[_c('i',{staticClass:\"el-icon-upload\"}),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])]),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传jpg/png/gif文件，且不超过100kb\")])]),_vm._v(\" \"),_c('el-input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"hidden\"},model:{value:(_vm.form.file),callback:function ($$v) {_vm.$set(_vm.form, \"file\", $$v)},expression:\"form.file\"}})],1)],1)],1),_vm._v(\" \"),_c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"lg\":8}},[_c('el-form-item',{attrs:{\"label\":\"\"}},[_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submitTheme}},[_vm._v(\"提交保存\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-e9c1ca28\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/theme/index.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-e9c1ca28\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/theme/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}