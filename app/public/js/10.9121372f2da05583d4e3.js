webpackJsonp([10],{Ex8o:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={components:{GetUserData:r("s8YE").a},data:function(){return{themeData:[],selectUserShow:!1,imgpath:this.$store.state.staticPath,admin:!1,userid:0,adminlevel:0,userInfo:null,user:null}},created:function(){this.userInfo=this.$store.state.userInfo,this.adminlevel=this.userInfo?this.userInfo.level:0,this.userInfo&&1===this.userInfo.level&&(this.admin=!0),this.gettheme()},methods:{getSetUser:function(e){this.user=[e],this.userid=e.id,this.gettheme()},gettheme:function(){var e=this;e.$get({type:"$get",obj:{url:e.api.gettheme,success:function(t){200==t.data.code?e.themeData=t.data.data:e.alerter("获取菜单数据失败！","获取菜单数据",2e3)},error:function(){e.alerter("获取菜单数据失败！","获取菜单数据",2e3)}},param:{userid:this.userid,adminlevel:this.adminlevel}})},themeRelease:function(e){var t=this;t.$get({type:"$get",obj:{url:t.api.closetheme,success:function(e){console.log(e),200==e.data.code?(t.alertsu("发布成功！"),t.gettheme()):t.alerter("发布失败！")},error:function(){t.alerter("发布失败！")}},param:{id:e.id,user_id:e.user_id,type:"release"}})},themeClose:function(e){var t=this;t.$get({type:"$get",obj:{url:t.api.closetheme,success:function(e){200==e.data.code?(t.alertsu("关闭成功！"),t.gettheme()):t.alerter("关闭失败！")},error:function(){t.alerter("关闭失败！")}},param:{id:e.id,user_id:e.user_id,type:"delete"}})},openCreatedTheme:function(){this.$router.push({name:"themeIndex"})},theme_edit:function(e){this.$store.state.themeEditDataCache=e,this.$router.push({name:"themeIndex",query:{theme_id:e.id,userid:e.user_id}})}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("br"),e._v(" "),r("el-form",{ref:"ruleForm",attrs:{"label-position":this.$store.state.panelLayout,"label-width":"100px"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{lg:3}},[r("el-button",{attrs:{type:"primary"},on:{click:e.openCreatedTheme}},[e._v("主题创建")])],1),e._v(" "),e.admin?r("el-col",{attrs:{lg:6}},[r("el-form-item",{attrs:{label:"选择用户："}},[r("get-user-data",{attrs:{getUserIdFn:e.getSetUser}})],1)],1):e._e()],1)],1),e._v(" "),r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.themeData,stripe:"",border:""}},[r("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"theme_name",label:"主题名字",width:"80"}}),e._v(" "),r("el-table-column",{attrs:{prop:"theme_min_img",label:"缩略图",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("img",{staticStyle:{width:"30px",height:"30px","border-radius":"15px"},attrs:{src:e.imgpath+"/"+t.row.theme_min_img}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"isDelete",width:"180",label:"主题状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.isDelete?r("el-tag",{attrs:{type:"success",size:"mini"}},[e._v("已发布")]):r("el-tag",{attrs:{type:"danger",size:"mini"}},[e._v("主题未发布")])]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"create_time",width:"160",label:"主题创建时间"}}),e._v(" "),r("el-table-column",{attrs:{prop:"theme_info",label:"主题描述"}}),e._v(" "),r("el-table-column",{attrs:{prop:"",width:"280",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button-group",[0==t.row.isDelete?r("el-button",{attrs:{type:"success",icon:"el-icon-printer",size:"mini"},on:{click:function(r){e.themeRelease(t.row)}}},[e._v("发布")]):1==t.row.isDelete?r("el-button",{attrs:{type:"danger",size:"mini",icon:"el-icon-delete"},on:{click:function(r){e.themeClose(t.row)}}},[e._v("禁用")]):e._e(),e._v(" "),r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){e.theme_edit(t.row)}}},[e._v("编辑")])],1)]}}])})],1)],1)},staticRenderFns:[]},a=r("VU/8")(i,s,!1,null,null,null);t.default=a.exports}});
//# sourceMappingURL=10.9121372f2da05583d4e3.js.map